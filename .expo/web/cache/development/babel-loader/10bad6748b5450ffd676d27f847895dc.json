{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\91944\\\\Dropbox\\\\My PC (LAPTOP-4MDLAJMG)\\\\Desktop\\\\react_test2\\\\studentScreens\\\\Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { RFValue } from \"react-native-responsive-fontsize\";\nimport MyHeader from \"../components/MyHeader\";\nimport { Avatar, Icon, Overlay, ListItem } from \"react-native-elements\";\nimport db from \"../config\";\nimport firebase from \"firebase\";\nimport TextTicker from 'react-native-text-ticker';\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this);\n\n    _this.getAchievement = function () {\n      db.collection('achievement').orderBy('time', 'desc').limit(1).onSnapshot(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          _this.setState({\n            achievementText: doc.data().achievementText\n          });\n        });\n      });\n    };\n\n    _this.getAnnouncement = function () {\n      _this.announcementRef = db.collection('announcement').orderBy('date', 'desc').limit(1).onSnapshot(function (snapshot) {\n        var announcement = snapshot.docs.map(function (doc) {\n          return doc.data();\n        });\n\n        _this.setState({\n          announcements: announcement\n        });\n      });\n    };\n\n    _this.getUserDetails = function () {\n      db.collection(\"students\").where(\"email_id\", \"==\", _this.state.userid).onSnapshot(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          _this.setState({\n            name: doc.data().name,\n            grade: doc.data().grade,\n            section: doc.data().section,\n            contact: doc.data().contact,\n            messageVisible: doc.data().messageVisible\n          });\n\n          _this.getstarofWeek(doc.data().grade);\n\n          if (doc.data().messageVisible == true) {\n            _this.setState({\n              message: doc.data().message,\n              submessage: doc.data().submessage,\n              messageTopic: doc.data().messageTopic\n            });\n          }\n\n          _this.readQue(doc.data().grade);\n        });\n      });\n    };\n\n    _this.readQue = function (grade) {\n      var today = new Date();\n      db.collection(\"test\").where(grade, \"==\", true).where(\"date\", \"==\", today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate()).onSnapshot(function (querySnapshot) {\n        querySnapshot.forEach(function (doc) {\n          _this.setState({\n            topic: doc.data().topic,\n            subtopic: doc.data().subtopic\n          });\n        });\n      });\n    };\n\n    _this.getstarofWeek = function (grade) {\n      var d = new Date(Date.UTC(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()));\n      var dayNum = d.getUTCDay() || 7;\n      d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n      var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n      var lastWeek = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);\n      _this.starWeek = db.collection('students').where('grade', '==', grade).where('lastWeek', '==', lastWeek).orderBy('weekScore', 'desc').limit(1).onSnapshot(function (snapshot) {\n        snapshot.forEach(function (doce) {\n          _this.setState({\n            starWeekid: doce.data().email_id\n          });\n        });\n        var starWeek = snapshot.docs.map(function (doc) {\n          return doc.data();\n        });\n\n        _this.setState({\n          starWeek: starWeek\n        });\n      });\n    };\n\n    _this.ccagetAnnouncement = function () {\n      _this.announcementRef = db.collection('ccaAnnouncement').where('lastDate', '>=', new Date().getDate() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getFullYear()).orderBy('lastDate', 'asc').limit(1).onSnapshot(function (snapshot) {\n        var ccaannouncement = snapshot.docs.map(function (doc) {\n          return doc.data();\n        });\n\n        _this.setState({\n          ccaannouncements: ccaannouncement\n        });\n      });\n    };\n\n    _this.keyExtractor3 = function (index) {\n      return index.toString();\n    };\n\n    _this.renderItem3 = function (_ref) {\n      var item = _ref.item,\n          i = _ref.i,\n          index = _ref.index;\n      return React.createElement(ListItem, {\n        key: i,\n        title: React.createElement(Text, {\n          style: {\n            fontSize: RFValue(20)\n          }\n        }, item.name),\n        subtitle: React.createElement(Text, null, item.grade, \" \", item.section),\n        rightElement: React.createElement(Text, null, item.mainScore, \" Points\"),\n        containerStyle: {\n          backgroundColor: '#FFFEE0'\n        },\n        leftAvatar: React.createElement(Avatar, {\n          rounded: true,\n          source: {\n            uri: item.imageurl\n          },\n          size: RFValue(50),\n          title: item.name\n        }),\n        leftElement: React.createElement(Text, null, index + 1),\n        bottomDivider: true\n      });\n    };\n\n    _this.keyExtractor = function (index) {\n      return index.toString();\n    };\n\n    _this.renderItem = function (_ref2) {\n      var item = _ref2.item,\n          i = _ref2.i,\n          index = _ref2.index;\n      return React.createElement(View, null, React.createElement(ListItem, {\n        key: i,\n        title: React.createElement(Text, {\n          style: {\n            fontSize: RFValue(20)\n          }\n        }, item.name),\n        subtitle: React.createElement(Text, null, item.grade, \" \", item.section),\n        rightElement: React.createElement(Text, null, item.weekScore, \" Points\"),\n        containerStyle: {\n          backgroundColor: '#FFFEE0'\n        },\n        leftAvatar: React.createElement(Avatar, {\n          rounded: true,\n          source: {\n            uri: item.imageurl\n          },\n          size: RFValue(50),\n          title: item.name\n        }),\n        leftElement: React.createElement(Text, {\n          style: {\n            fontSize: RFValue(20),\n            fontWeight: 'bold'\n          }\n        }, index + 1),\n        bottomDivider: true\n      }));\n    };\n\n    _this.keyExtractor1 = function (index) {\n      return index.toString();\n    };\n\n    _this.renderItem1 = function (_ref3) {\n      var item = _ref3.item,\n          i = _ref3.i;\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          backgroundColor: '#FFEFE5',\n          alignContent: 'center',\n          marginLeft: RFValue(10),\n          marginRight: RFValue(10),\n          marginTop: RFValue(10)\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: RFValue(15),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(18),\n          backgroundColor: 'gold'\n        }\n      }, \"Latest CCA Announcement\"), React.createElement(Text, {\n        style: {\n          fontSize: RFValue(18),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(10)\n        }\n      }, 'Topic: ' + item.announcementTopic), React.createElement(Text, {\n        style: {\n          paddingLeft: RFValue(25)\n        }\n      }, 'Last Date: ' + item.lastDate + '\\ndate: ' + item.refDate + '\\ntime: ' + item.time), React.createElement(View, {\n        style: {\n          alignItems: 'flex-end',\n          justifyContent: 'center',\n          marginTop: RFValue(2)\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.button2, {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginRight: RFValue(15),\n          width: \"65%\"\n        }],\n        onPress: function onPress() {\n          _this.setState({\n            ccatextTeacherstate: item.teacherstate,\n            ccatextTeacherName: item.teacherName,\n            ccatextTopic: item.announcementTopic,\n            ccatextDetails: item.announcementDetails,\n            ccaannouncementVisible: true,\n            ccatextLastDate: item.lastDate\n          });\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText2\n      }, \"View Announcement\"))), React.createElement(View, {\n        style: {\n          alignItems: 'flex-start',\n          justifyContent: 'center',\n          marginTop: RFValue(-50)\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.add1,\n        onPress: function onPress() {\n          _this.props.navigation.navigate('ccaAnnouncementst');\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/announcements.png\"),\n        style: {\n          height: RFValue(45),\n          width: RFValue(45)\n        }\n      }))));\n    };\n\n    _this.keyExtractor2 = function (index) {\n      return index.toString();\n    };\n\n    _this.renderItem2 = function (_ref4) {\n      var item = _ref4.item,\n          i = _ref4.i;\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          backgroundColor: '#FFEFE5',\n          alignContent: 'center',\n          marginLeft: RFValue(10),\n          marginRight: RFValue(10),\n          marginTop: RFValue(10)\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: RFValue(15),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(18),\n          backgroundColor: 'gold'\n        }\n      }, \"Latest Announcement\"), React.createElement(Text, {\n        style: {\n          fontSize: RFValue(18),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(10)\n        }\n      }, 'Topic: ' + item.announcementTopic), React.createElement(Text, {\n        style: {\n          paddingLeft: RFValue(25)\n        }\n      }, 'date: ' + item.refDate + '\\ntime: ' + item.time), React.createElement(View, {\n        style: {\n          alignItems: 'flex-end',\n          justifyContent: 'center',\n          marginTop: RFValue(2)\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.button2, {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginRight: RFValue(15),\n          width: \"65%\"\n        }],\n        onPress: function onPress() {\n          _this.setState({\n            textTeacherstate: item.teacherstate,\n            textTeacherName: item.teacherName,\n            textTopic: item.announcementTopic,\n            textDetails: item.announcementDetails,\n            announcementVisible: true\n          });\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText2\n      }, \"View Announcement\"))), React.createElement(View, {\n        style: {\n          alignItems: 'flex-start',\n          justifyContent: 'center',\n          marginTop: RFValue(-50)\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.add1,\n        onPress: function onPress() {\n          _this.props.navigation.navigate('AnnouncementSt');\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/announcements.png\"),\n        style: {\n          height: RFValue(45),\n          width: RFValue(45)\n        }\n      }))));\n    };\n\n    var _today = new Date(),\n        date = _today.getFullYear() + '-' + (_today.getMonth() + 1) + '-' + _today.getDate();\n\n    var time = new Date().getHours() + ':' + new Date().getMinutes() + ':' + new Date().getSeconds();\n    _this.state = {\n      time: date,\n      starWeek: [],\n      time: time,\n      change: false,\n      starWeekid: null,\n      starWeek: [],\n      userid: firebase.auth().currentUser.email,\n      name: '',\n      grade: '',\n      section: '',\n      contact: '',\n      achievementText: '',\n      ccaannouncements: '',\n      ccaannouncementVisible: false,\n      messageVisible: false,\n      announcements: [],\n      subtopic: null,\n      topic: null\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUserDetails();\n      this.getAchievement();\n      this.getAnnouncement();\n      this.ccagetAnnouncement();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ScrollView, null, React.createElement(Overlay, {\n        isVisible: this.state.messageVisible,\n        overlayStyle: {\n          width: '90%',\n          marginTop: RFValue(20),\n          marginBottom: RFValue(20)\n        },\n        onBackdropPress: function onBackdropPress() {\n          _this2.setState({\n            messageVisible: false\n          });\n\n          db.collection('students').doc(_this2.state.userid).update({\n            messageVisible: false\n          });\n        }\n      }, React.createElement(ScrollView, null, React.createElement(View, {\n        style: {\n          marginTop: RFValue(15)\n        }\n      }, React.createElement(View, {\n        style: styles.signupView\n      }, React.createElement(Text, {\n        style: styles.signupText\n      }, this.state.messageTopic)), React.createElement(View, {\n        style: {\n          marginTop: RFValue(20)\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center',\n          marginLeft: RFValue(5),\n          marginRight: RFValue(5)\n        }\n      }, this.state.submessage + '\\nMessage from classTeacher :- \\n' + this.state.message, \" \"))))), React.createElement(Overlay, {\n        isVisible: this.state.ccaannouncementVisible,\n        overlayStyle: {\n          width: '90%',\n          marginTop: RFValue(20),\n          marginBottom: RFValue(20)\n        },\n        onBackdropPress: function onBackdropPress() {\n          _this2.setState({\n            ccaannouncementVisible: false\n          });\n        }\n      }, React.createElement(ScrollView, null, React.createElement(View, {\n        style: {\n          marginTop: RFValue(15)\n        }\n      }, React.createElement(View, {\n        style: styles.signupView\n      }, React.createElement(Text, {\n        style: styles.signupText\n      }, \" \", this.state.ccatextTopic)), React.createElement(View, {\n        style: {\n          marginTop: RFValue(20)\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center',\n          marginLeft: RFValue(5),\n          marginRight: RFValue(5),\n          marginBottom: RFValue(10)\n        }\n      }, this.state.ccatextDetails), React.createElement(Text, {\n        style: {\n          textAlign: 'left',\n          marginTop: RFValue(5)\n        }\n      }, \"Last Date: \", this.state.ccatextLastDate)), React.createElement(View, null, React.createElement(Text, {\n        style: {\n          textAlign: 'left',\n          marginTop: RFValue(10)\n        }\n      }, \"Regards,\"), React.createElement(Text, {\n        style: {\n          textAlign: 'left',\n          marginTop: RFValue(3),\n          marginLeft: RFValue(5)\n        }\n      }, this.state.ccatextTeacherName, \",\"), React.createElement(Text, {\n        style: {\n          textAlign: 'left',\n          marginLeft: RFValue(5)\n        }\n      }, \"VIS Team\"))))), React.createElement(View, {\n        style: styles.container\n      }, React.createElement(View, {\n        style: {\n          flex: 0.11\n        }\n      }, React.createElement(MyHeader, {\n        title: \"Dashboard\",\n        navigation: this.props.navigation\n      })), React.createElement(View, {\n        style: {\n          flex: 0.04,\n          backgroundColor: 'red',\n          marginTop: RFValue(20)\n        }\n      }, React.createElement(TextTicker, {\n        shouldAnimateTreshold: 40,\n        bounce: false,\n        style: {\n          height: RFValue(24),\n          fontSize: RFValue(15),\n          color: '#fff',\n          fontWeight: 'bold'\n        }\n      }, this.state.achievementText)), React.createElement(View, {\n        style: {\n          flex: 0.3,\n          backgroundColor: '#FFEFE5',\n          alignContent: 'center',\n          marginLeft: RFValue(10),\n          marginRight: RFValue(10),\n          marginTop: RFValue(10)\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: RFValue(18),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(10)\n        }\n      }, \"QUIZ TOPIC\"), React.createElement(Text, {\n        style: {\n          fontSize: RFValue(15),\n          fontWeight: 'bold',\n          paddingLeft: RFValue(18)\n        }\n      }, this.state.topic), React.createElement(Text, {\n        style: {\n          paddingLeft: RFValue(25)\n        }\n      }, this.state.subtopic), React.createElement(Text, {\n        style: {\n          paddingLeft: RFValue(25)\n        }\n      }), React.createElement(View, {\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center',\n          marginTop: RFValue(15)\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: [styles.button, {\n          alignItems: 'center',\n          justifyContent: 'center'\n        }],\n        onPress: function onPress() {\n          _this2.props.navigation.navigate(\"Quize\");\n        }\n      }, React.createElement(Text, {\n        style: [styles.buttonText, {\n          fontWeight: 'bold'\n        }]\n      }, \"START QUIZ\")))), React.createElement(View, {\n        style: {\n          flex: 0.25,\n          backgroundColor: '#FFFEE0',\n          alignContent: 'center',\n          marginLeft: RFValue(10),\n          marginRight: RFValue(10),\n          marginTop: RFValue(10)\n        }\n      }, React.createElement(View, {\n        style: {\n          justifyContent: 'space-between'\n        }\n      }, React.createElement(Text, {\n        style: {\n          marginLeft: RFValue(10),\n          marginTop: RFValue(5),\n          fontSize: RFValue(18),\n          fontWeight: 'bold'\n        }\n      }, \"Star of the week \"), React.createElement(FlatList, {\n        keyExtractor: this.keyExtractor,\n        data: this.state.starWeek,\n        renderItem: this.renderItem\n      }), this.state.starWeek.length == 0 ? React.createElement(View, {\n        style: {\n          marginTop: RFValue(15),\n          marginBottom: RFValue(15)\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: 'center',\n          fontSize: RFValue(20)\n        }\n      }, \"Weekly Leaderboard is sleeping\")) : React.createElement(View, null))), React.createElement(View, {\n        style: {\n          flex: 0.26\n        }\n      }, React.createElement(FlatList, {\n        keyExtractor: this.keyExtractor1,\n        data: this.state.ccaannouncements,\n        renderItem: this.renderItem1\n      })), React.createElement(View, {\n        style: {\n          flex: 0.26\n        }\n      }, React.createElement(FlatList, {\n        keyExtractor: this.keyExtractor2,\n        data: this.state.announcements,\n        renderItem: this.renderItem2\n      }))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#E5F7FE\"\n  },\n  button: {\n    width: \"80%\",\n    height: RFValue(50),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: RFValue(25),\n    backgroundColor: \"#ffff\",\n    shadowColor: \"#000\",\n    marginBottom: RFValue(10),\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 10.32,\n    elevation: 16\n  },\n  buttonText: {\n    color: \"#fabf10\",\n    fontWeight: \"200\",\n    fontSize: RFValue(20)\n  },\n  button2: {\n    width: \"60%\",\n    height: RFValue(50),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: RFValue(50),\n    backgroundColor: \"#FD6A02\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32,\n    elevation: 16\n  },\n  buttonText2: {\n    fontSize: RFValue(18),\n    fontWeight: \"bold\",\n    color: \"#fff\"\n  },\n  add1: {\n    width: RFValue(50),\n    height: RFValue(50),\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: RFValue(100),\n    backgroundColor: \"#FD6A02\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.44,\n    shadowRadius: 10.32,\n    elevation: 16\n  },\n  signupView: {\n    flex: 0.05,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  signupText: {\n    fontSize: RFValue(20),\n    fontWeight: \"bold\",\n    color: \"#32867d\"\n  }\n});","map":{"version":3,"sources":["C:/Users/91944/Dropbox/My PC (LAPTOP-4MDLAJMG)/Desktop/react_test2/studentScreens/Home.js"],"names":["React","Component","RFValue","MyHeader","Avatar","Icon","Overlay","ListItem","db","firebase","TextTicker","Home","getAchievement","collection","orderBy","limit","onSnapshot","querySnapshot","forEach","doc","setState","achievementText","data","getAnnouncement","announcementRef","snapshot","announcement","docs","map","announcements","getUserDetails","where","state","userid","name","grade","section","contact","messageVisible","getstarofWeek","message","submessage","messageTopic","readQue","today","Date","getFullYear","getMonth","getDate","topic","subtopic","d","UTC","dayNum","getUTCDay","setUTCDate","getUTCDate","yearStart","getUTCFullYear","lastWeek","Math","ceil","starWeek","doce","starWeekid","email_id","ccagetAnnouncement","ccaannouncement","ccaannouncements","keyExtractor3","index","toString","renderItem3","item","i","fontSize","mainScore","backgroundColor","uri","imageurl","keyExtractor","renderItem","weekScore","fontWeight","keyExtractor1","renderItem1","flex","alignContent","marginLeft","marginRight","marginTop","paddingLeft","announcementTopic","lastDate","refDate","time","alignItems","justifyContent","styles","button2","width","ccatextTeacherstate","teacherstate","ccatextTeacherName","teacherName","ccatextTopic","ccatextDetails","announcementDetails","ccaannouncementVisible","ccatextLastDate","buttonText2","add1","props","navigation","navigate","require","height","keyExtractor2","renderItem2","textTeacherstate","textTeacherName","textTopic","textDetails","announcementVisible","date","getHours","getMinutes","getSeconds","change","auth","currentUser","email","marginBottom","update","signupView","signupText","textAlign","container","color","button","buttonText","length","StyleSheet","create","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n    View,\r\n    Text,\r\n    StyleSheet,\r\n    TouchableOpacity,\r\n    Alert,\r\n    Image,\r\n    ScrollView,\r\n    Modal,\r\n    FlatList\r\n} from \"react-native\";\r\nimport { RFValue } from \"react-native-responsive-fontsize\";\r\nimport MyHeader from \"../components/MyHeader\";\r\nimport { Avatar, Icon, Overlay, ListItem } from \"react-native-elements\"\r\nimport db from \"../config\";\r\nimport firebase from \"firebase\";\r\nimport TextTicker from 'react-native-text-ticker'\r\n\r\nexport default class Home extends Component {\r\n    constructor() {\r\n        super();\r\n        var today = new Date(),\r\n            date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        var time = new Date().getHours() + ':' + new Date().getMinutes() + ':' + new Date().getSeconds()\r\n        this.state = {\r\n            time: date,\r\n            starWeek: [],\r\n            time: time,\r\n            change: false,\r\n            starWeekid: null,\r\n            starWeek: [],\r\n            userid: firebase.auth().currentUser.email,\r\n            name: '',\r\n            grade: '',\r\n            section: '',\r\n            contact: '',\r\n            achievementText: '',\r\n            ccaannouncements: '',\r\n            ccaannouncementVisible: false,\r\n            messageVisible: false,\r\n            announcements: [],\r\n            subtopic: null,\r\n            topic: null,\r\n        };\r\n    }\r\n\r\n    getAchievement = () => {\r\n        db.collection('achievement')\r\n            .orderBy('time', 'desc')\r\n            .limit(1)\r\n            .onSnapshot((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.setState({\r\n                        achievementText: doc.data().achievementText,\r\n                    });\r\n                });\r\n            });\r\n    }\r\n\r\n    getAnnouncement = () => {\r\n        this.announcementRef = db.collection('announcement')\r\n            .orderBy('date', 'desc')\r\n            .limit(1)\r\n            .onSnapshot((snapshot) => {\r\n                var announcement = snapshot.docs.map((doc) => doc.data())\r\n                this.setState({\r\n                    announcements: announcement\r\n                });\r\n            })\r\n    }\r\n\r\n    getUserDetails = () => {\r\n        db.collection(\"students\")\r\n            .where(\"email_id\", \"==\", this.state.userid)\r\n            .onSnapshot((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.setState({\r\n                        name: doc.data().name,\r\n                        grade: doc.data().grade,\r\n                        section: doc.data().section,\r\n                        contact: doc.data().contact,\r\n                        messageVisible: doc.data().messageVisible,\r\n                    });\r\n                    this.getstarofWeek(doc.data().grade)\r\n                    if (doc.data().messageVisible == true) {\r\n                        this.setState({\r\n                            message: doc.data().message,\r\n                            submessage: doc.data().submessage,\r\n                            messageTopic: doc.data().messageTopic,\r\n                        })\r\n                    }\r\n                    this.readQue(doc.data().grade)\r\n                });\r\n            });\r\n    }\r\n\r\n    readQue = (grade) => {\r\n        var today = new Date()\r\n        db.collection(\"test\")\r\n            .where(grade, \"==\", true)\r\n            .where(\"date\", \"==\", today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate())\r\n            .onSnapshot((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    this.setState({\r\n                        topic: doc.data().topic,\r\n                        subtopic: doc.data().subtopic\r\n                    });\r\n                });\r\n            });\r\n    }\r\n\r\n    getstarofWeek = (grade) => {\r\n        var d = new Date(Date.UTC(new Date().getFullYear(), new Date().getMonth(), new Date().getDate()));\r\n        var dayNum = d.getUTCDay() || 7;\r\n        d.setUTCDate(d.getUTCDate() + 4 - dayNum);\r\n        var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n        var lastWeek = Math.ceil((((d - yearStart) / 86400000) + 1) / 7)\r\n        this.starWeek = db.collection('students')\r\n            .where('grade', '==', grade)\r\n            .where('lastWeek', '==', lastWeek)\r\n            .orderBy('weekScore', 'desc')\r\n            .limit(1)\r\n            .onSnapshot((snapshot) => {\r\n                snapshot.forEach((doce) => {\r\n                    this.setState({\r\n                        starWeekid: doce.data().email_id\r\n                    })\r\n                })\r\n                var starWeek = snapshot.docs.map((doc) => doc.data())\r\n                this.setState({\r\n                    starWeek: starWeek\r\n                })\r\n            })\r\n    }\r\n\r\n    ccagetAnnouncement = () => {\r\n        this.announcementRef = db.collection('ccaAnnouncement')\r\n            .where('lastDate', '>=', new Date().getDate() + '-' + (new Date().getMonth() + 1) + '-' + new Date().getFullYear())\r\n            .orderBy('lastDate', 'asc')\r\n            .limit(1)\r\n            .onSnapshot((snapshot) => {\r\n                var ccaannouncement = snapshot.docs.map((doc) => doc.data())\r\n                this.setState({\r\n                    ccaannouncements: ccaannouncement\r\n                });\r\n            })\r\n    }\r\n\r\n    keyExtractor3 = (index) => index.toString()\r\n\r\n    renderItem3 = ({ item, i, index }) => {\r\n        return (\r\n            <ListItem\r\n                key={i}\r\n                title={\r\n                    <Text\r\n                        style={{\r\n                            fontSize: RFValue(20)\r\n                        }}\r\n                    >{item.name}</Text>\r\n                }\r\n                subtitle={\r\n                    <Text>{item.grade} {item.section}</Text>\r\n                }\r\n                rightElement={\r\n                    <Text>{item.mainScore} Points</Text>\r\n                }\r\n                containerStyle={{ backgroundColor: '#FFFEE0' }}\r\n                leftAvatar={\r\n                    <Avatar rounded source={{ uri: item.imageurl }} size={RFValue(50)}\r\n                        title={item.name}\r\n                    />\r\n                }\r\n                leftElement={\r\n                    <Text>{index + 1}</Text>\r\n                }\r\n                bottomDivider\r\n            />\r\n        )\r\n    }\r\n\r\n    keyExtractor = (index) => index.toString()\r\n\r\n    renderItem = ({ item, i, index }) => {\r\n        return (\r\n            <View>\r\n                <ListItem\r\n                    key={i}\r\n                    title={\r\n                        <Text\r\n                            style={{\r\n                                fontSize: RFValue(20)\r\n                            }}\r\n                        >{item.name}</Text>\r\n                    }\r\n                    subtitle={\r\n                        <Text>{item.grade} {item.section}</Text>\r\n                    }\r\n                    rightElement={\r\n                        <Text>{item.weekScore} Points</Text>\r\n                    }\r\n                    containerStyle={{ backgroundColor: '#FFFEE0' }}\r\n                    leftAvatar={\r\n                        <Avatar rounded source={{ uri: item.imageurl }} size={RFValue(50)}\r\n                            title={item.name}\r\n                        />\r\n                    }\r\n                    leftElement={\r\n                        <Text style={{ fontSize: RFValue(20), fontWeight: 'bold' }}>{index + 1}</Text>\r\n                    }\r\n                    bottomDivider\r\n                />\r\n\r\n            </View>\r\n        )\r\n    }\r\n\r\n    keyExtractor1 = (index) => index.toString()\r\n\r\n    renderItem1 = ({ item, i }) => {\r\n        return (\r\n            <View style={{ flex: 1, backgroundColor: '#FFEFE5', alignContent: 'center', marginLeft: RFValue(10), marginRight: RFValue(10), marginTop: RFValue(10) }}>\r\n                <Text\r\n                    style={{ fontSize: RFValue(15), fontWeight: 'bold', paddingLeft: RFValue(18), backgroundColor: 'gold' }}\r\n                >\r\n                    Latest CCA Announcement\r\n                        </Text>\r\n                <Text\r\n                    style={{ fontSize: RFValue(18), fontWeight: 'bold', paddingLeft: RFValue(10) }}\r\n                >{'Topic: ' + item.announcementTopic}</Text>\r\n\r\n                <Text\r\n                    style={{ paddingLeft: RFValue(25) }}>\r\n                    {'Last Date: ' + item.lastDate + '\\ndate: ' + item.refDate + '\\ntime: ' + item.time}\r\n                </Text>\r\n\r\n                <View style={{ alignItems: 'flex-end', justifyContent: 'center', marginTop: RFValue(2) }}>\r\n                    <TouchableOpacity\r\n                        style={[styles.button2, { alignItems: 'center', justifyContent: 'center', marginRight: RFValue(15), width: \"65%\" }]}\r\n                        onPress={() => {\r\n                            this.setState({\r\n                                ccatextTeacherstate: item.teacherstate,\r\n                                ccatextTeacherName: item.teacherName,\r\n                                ccatextTopic: item.announcementTopic,\r\n                                ccatextDetails: item.announcementDetails,\r\n                                ccaannouncementVisible: true,\r\n                                ccatextLastDate: item.lastDate,\r\n                            })\r\n                        }}\r\n                    >\r\n                        <Text style={styles.buttonText2}>View Announcement</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n                <View style={{ alignItems: 'flex-start', justifyContent: 'center', marginTop: RFValue(-50) }}>\r\n                    <TouchableOpacity style={styles.add1}\r\n                        onPress={() => {\r\n                            this.props.navigation.navigate('ccaAnnouncementst')\r\n                        }}\r\n                    >\r\n                        <Image\r\n                            source={require('../assets/announcements.png')}\r\n                            style={{ height: RFValue(45), width: RFValue(45) }}\r\n                        />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    keyExtractor2 = (index) => index.toString()\r\n\r\n    renderItem2 = ({ item, i }) => {\r\n        return (\r\n            <View style={{ flex: 1, backgroundColor: '#FFEFE5', alignContent: 'center', marginLeft: RFValue(10), marginRight: RFValue(10), marginTop: RFValue(10) }}>\r\n                <Text\r\n                    style={{ fontSize: RFValue(15), fontWeight: 'bold', paddingLeft: RFValue(18), backgroundColor: 'gold' }}\r\n                >\r\n                    Latest Announcement\r\n                        </Text>\r\n                <Text\r\n                    style={{ fontSize: RFValue(18), fontWeight: 'bold', paddingLeft: RFValue(10) }}\r\n                >{'Topic: ' + item.announcementTopic}</Text>\r\n\r\n                <Text\r\n                    style={{ paddingLeft: RFValue(25) }}>\r\n                    {'date: ' + item.refDate + '\\ntime: ' + item.time}\r\n                </Text>\r\n\r\n                <View style={{ alignItems: 'flex-end', justifyContent: 'center', marginTop: RFValue(2) }}>\r\n                    <TouchableOpacity\r\n                        style={[styles.button2, { alignItems: 'center', justifyContent: 'center', marginRight: RFValue(15), width: \"65%\" }]}\r\n                        onPress={() => {\r\n                            this.setState({\r\n                                textTeacherstate: item.teacherstate,\r\n                                textTeacherName: item.teacherName,\r\n                                textTopic: item.announcementTopic,\r\n                                textDetails: item.announcementDetails,\r\n                                announcementVisible: true\r\n                            })\r\n                        }}\r\n                    >\r\n                        <Text style={styles.buttonText2}>View Announcement</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n                <View style={{ alignItems: 'flex-start', justifyContent: 'center', marginTop: RFValue(-50) }}>\r\n                    <TouchableOpacity style={styles.add1}\r\n                        onPress={() => {\r\n                            this.props.navigation.navigate('AnnouncementSt')\r\n                        }}\r\n                    >\r\n                        <Image\r\n                            source={require('../assets/announcements.png')}\r\n                            style={{ height: RFValue(45), width: RFValue(45) }}\r\n                        />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUserDetails();\r\n        this.getAchievement();\r\n        this.getAnnouncement();\r\n        this.ccagetAnnouncement();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ScrollView>\r\n                <Overlay\r\n                    isVisible={this.state.messageVisible}\r\n                    overlayStyle={{ width: '90%', marginTop: RFValue(20), marginBottom: RFValue(20) }}\r\n                    onBackdropPress={() => {\r\n                        this.setState({\r\n                            messageVisible: false,\r\n                        })\r\n                        db.collection('students')\r\n                            .doc(this.state.userid)\r\n                            .update({\r\n                                messageVisible: false\r\n                            })\r\n                    }}\r\n                >\r\n                    <ScrollView>\r\n                        <View style={{ marginTop: RFValue(15), }}>\r\n                            <View style={styles.signupView}>\r\n                                <Text style={styles.signupText}>{this.state.messageTopic}</Text>\r\n                            </View>\r\n                            <View style={{ marginTop: RFValue(20) }}>\r\n                                <Text style={{ textAlign: 'center', marginLeft: RFValue(5), marginRight: RFValue(5) }}>\r\n                                    {this.state.submessage + '\\nMessage from classTeacher :- \\n' + this.state.message} </Text>\r\n                            </View>\r\n                        </View>\r\n                    </ScrollView>\r\n                </Overlay>\r\n                <Overlay\r\n                    isVisible={this.state.ccaannouncementVisible}\r\n                    overlayStyle={{ width: '90%', marginTop: RFValue(20), marginBottom: RFValue(20) }}\r\n                    onBackdropPress={() => {\r\n                        this.setState({\r\n                            ccaannouncementVisible: false\r\n                        })\r\n                    }}>\r\n                    <ScrollView>\r\n                        <View style={{ marginTop: RFValue(15), }}>\r\n                            <View style={styles.signupView}>\r\n                                <Text style={styles.signupText}> {this.state.ccatextTopic}</Text>\r\n                            </View>\r\n                            <View style={{ marginTop: RFValue(20) }}>\r\n                                <Text style={{ textAlign: 'center', marginLeft: RFValue(5), marginRight: RFValue(5), marginBottom: RFValue(10) }}>{this.state.ccatextDetails}</Text>\r\n                                <Text style={{ textAlign: 'left', marginTop: RFValue(5) }}>Last Date: {this.state.ccatextLastDate}</Text>\r\n                            </View>\r\n                            <View>\r\n                                <Text style={{ textAlign: 'left', marginTop: RFValue(10) }}>Regards,</Text>\r\n                                <Text style={{ textAlign: 'left', marginTop: RFValue(3), marginLeft: RFValue(5) }}>{this.state.ccatextTeacherName},</Text>\r\n                                <Text style={{ textAlign: 'left', marginLeft: RFValue(5) }}>VIS Team</Text>\r\n                            </View>\r\n                        </View>\r\n                    </ScrollView>\r\n                </Overlay>\r\n                <View style={styles.container}>\r\n                    <View style={{ flex: 0.11 }}>\r\n                        <MyHeader title=\"Dashboard\" navigation={this.props.navigation} />\r\n                    </View>\r\n                    <View style={{ flex: 0.04, backgroundColor: 'red', marginTop: RFValue(20) }}>\r\n                        <TextTicker\r\n                            shouldAnimateTreshold={40}\r\n                            bounce={false}\r\n                            style={{ height: RFValue(24), fontSize: RFValue(15), color: '#fff', fontWeight: 'bold' }}\r\n                        >\r\n                            {this.state.achievementText}\r\n                        </TextTicker>\r\n                    </View>\r\n                    <View style={{ flex: 0.3, backgroundColor: '#FFEFE5', alignContent: 'center', marginLeft: RFValue(10), marginRight: RFValue(10), marginTop: RFValue(10) }}>\r\n                        <Text\r\n                            style={{ fontSize: RFValue(18), fontWeight: 'bold', paddingLeft: RFValue(10) }}\r\n                        >QUIZ TOPIC</Text>\r\n                        <Text\r\n                            style={{ fontSize: RFValue(15), fontWeight: 'bold', paddingLeft: RFValue(18) }}\r\n                        >\r\n                            {this.state.topic}\r\n                        </Text>\r\n                        <Text\r\n                            style={{ paddingLeft: RFValue(25) }}>\r\n                            {this.state.subtopic}\r\n                        </Text>\r\n                        <Text\r\n                            style={{ paddingLeft: RFValue(25) }}>\r\n                        </Text>\r\n                        <View style={{ alignItems: 'center', justifyContent: 'center', marginTop: RFValue(15) }}>\r\n                            <TouchableOpacity\r\n                                style={[styles.button, { alignItems: 'center', justifyContent: 'center' }]}\r\n                                onPress={() => {\r\n                                    this.props.navigation.navigate(\"Quize\")\r\n                                }}\r\n                            >\r\n                                <Text style={[styles.buttonText, { fontWeight: 'bold' }]}>START QUIZ</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                    <View style={{ flex: 0.25, backgroundColor: '#FFFEE0', alignContent: 'center', marginLeft: RFValue(10), marginRight: RFValue(10), marginTop: RFValue(10) }}>\r\n                        <View style={{ justifyContent: 'space-between' }}>\r\n                            <Text style={{ marginLeft: RFValue(10), marginTop: RFValue(5), fontSize: RFValue(18), fontWeight: 'bold' }}>\r\n                                Star of the week </Text>\r\n                            <FlatList\r\n                                keyExtractor={this.keyExtractor}\r\n                                data={this.state.starWeek}\r\n                                renderItem={this.renderItem}\r\n                            />\r\n                            {this.state.starWeek.length == 0 ? (\r\n                                <View style={{ marginTop: RFValue(15), marginBottom: RFValue(15) }}><Text style={{ textAlign: 'center', fontSize: RFValue(20) }}>Weekly Leaderboard is sleeping</Text></View>\r\n                            ) : (\r\n                                    <View></View>\r\n                                )\r\n\r\n                            }\r\n                        </View>\r\n                    </View>\r\n                    <View style={{ flex: 0.26 }}>\r\n                        <FlatList\r\n                            keyExtractor={this.keyExtractor1}\r\n                            data={this.state.ccaannouncements}\r\n                            renderItem={this.renderItem1}\r\n                        />\r\n                    </View>\r\n                    <View style={{ flex: 0.26 }}>\r\n                        <FlatList\r\n                            keyExtractor={this.keyExtractor2}\r\n                            data={this.state.announcements}\r\n                            renderItem={this.renderItem2}\r\n                        />\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#E5F7FE\",\r\n    },\r\n    button: {\r\n        width: \"80%\",\r\n        height: RFValue(50),\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: RFValue(25),\r\n        backgroundColor: \"#ffff\",\r\n        shadowColor: \"#000\",\r\n        marginBottom: RFValue(10),\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 8,\r\n        },\r\n        shadowOpacity: 0.3,\r\n        shadowRadius: 10.32,\r\n        elevation: 16,\r\n    },\r\n    buttonText: {\r\n        color: \"#fabf10\",\r\n        fontWeight: \"200\",\r\n        fontSize: RFValue(20),\r\n    },\r\n    button2: {\r\n        width: \"60%\",\r\n        height: RFValue(50),\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: RFValue(50),\r\n        backgroundColor: \"#FD6A02\",\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 8,\r\n        },\r\n        shadowOpacity: 0.44,\r\n        shadowRadius: 10.32,\r\n        elevation: 16,\r\n    },\r\n    buttonText2: {\r\n        fontSize: RFValue(18),\r\n        fontWeight: \"bold\",\r\n        color: \"#fff\",\r\n    },\r\n    add1: {\r\n        width: RFValue(50),\r\n        height: RFValue(50),\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        borderRadius: RFValue(100),\r\n        backgroundColor: \"#FD6A02\",\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 8,\r\n        },\r\n        shadowOpacity: 0.44,\r\n        shadowRadius: 10.32,\r\n        elevation: 16,\r\n    },\r\n    signupView: {\r\n        flex: 0.05,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    signupText: {\r\n        fontSize: RFValue(20),\r\n        fontWeight: \"bold\",\r\n        color: \"#32867d\"\r\n    },\r\n});"]},"metadata":{},"sourceType":"module"}